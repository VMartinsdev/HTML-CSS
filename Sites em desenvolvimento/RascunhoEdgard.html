<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Rascunho Edgard</title>
  <style>
    .tab-header {
      display: flex;
      background: red;
    }

    .tab-header button {
      background: darkred;
      color: white;
      padding: 10px;
      border: none;
      cursor: pointer;
      flex: 1;
    }

    .tab-header button.active {
      background: #ff0000;
      font-weight: bold;
    }

    .tab-content {
      display: none;
      padding: 20px;
      background: #f5f5f5;
    }

    .tab-content.active {
      display: block;
    }

    .form-section {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

  <div class="tab-header">
    <button class="tab-btn active" onclick="showTab(0)">Principal</button>
    <button class="tab-btn" onclick="showTab(1)">Materiais</button>
    <button class="tab-btn" onclick="showTab(2)">Mão de Obra</button>
    <!-- Adicione mais abas conforme necessário -->
  </div>

  <!-- Um único formulário envolvendo todas as abas -->
  <form id="mainForm" onsubmit="handleSubmit(event)">
    <div class="tab-content active">
      <div class="form-section">
        <label>Cliente:</label>
        <input type="text" name="cliente" required>
      </div>
      <div class="form-section">
        <label>Empresa Prestadora do Serviço:</label>
        <input type="text" name="empresa" required>
      </div>
    </div>

    <div class="tab-content">
      <h2>Materiais</h2>
      <div class="form-section">
        <label>Descrição dos Materiais:</label>
        <textarea name="materiais"></textarea>
      </div>
    </div>

    <div class="tab-content">
      <h2>Mão de Obra</h2>
      <div class="form-section">
        <label>Descrição:</label>
        <input type="text" name="mao_obra">
      </div>
    </div>

    <!-- Botão de envio final -->
    <div style="margin-top: 20px;">
      <button type="submit">Enviar Tudo</button>
    </div>
  </form>

  <script>
    function showTab(index) {
      const tabs = document.querySelectorAll('.tab-content');
      const buttons = document.querySelectorAll('.tab-btn');
      tabs.forEach((tab, i) => {
        tab.classList.toggle('active', i === index);
        buttons[i].classList.toggle('active', i === index);
      });
    }

    function handleSubmit(event) {
      event.preventDefault(); // evita recarregamento da página
      const form = document.getElementById('mainForm');
      const formData = new FormData(form);

      // Apenas exibe os dados no console (simula envio)
      console.log("Enviando para o backend:");
      for (const [key, value] of formData.entries()) {
        console.log(`${key}: ${value}`);
      }

      // Aqui você faria o envio com fetch/AJAX se quiser
      // fetch('/seu-endpoint', { method: 'POST', body: formData })
    }
  </script>

</body>
</html>
